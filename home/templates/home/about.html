{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}


<div class="container my-5">

    <div class="bg-white p-4 p-md-5 rounded shadow-lg">
    
        {% if company_info %}
        
            <header class="text-center mb-5">
                <h1 class="display-4 fw-bold text-black">{{ company_info.title }}</h1>
                
                <p class="lead">{{ company_info.content|linebreaks }}</p>
            </header>

            <hr class="my-5">

            <div class="row mb-5">
                <div class="col-md-8 offset-md-2 text-center">
                    <h3 class="text-secondary">Our Reach</h3>
                    <p class="fs-5">We are partnered with dealerships in:</p>
                    <p class="fw-bold">{{ company_info.locations|linebreaks }}</p>
                </div>
            </div>

        {% endif %}

        <hr class="my-5">
            
        <section id="team" class="py-4">
            <h2 class="text-center mb-5 fw-bold">Meet the Team</h2>
            
            {% if team_members %}
                
            <div class="row justify-content-center">
                <div class="col-lg-6 col-md-8"> 
                    
                    <div id="teamCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="6000">
                        
                        <div class="carousel-inner">
                        
                            {% for member in team_members %}
                                
                                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                    
                                    <div class="card h-100 shadow-sm border-0 text-center">
                                        {% if member.photo %}
                                            <div class="p-3">
                                                <img src="{{ member.photo.url }}" 
                                                    alt="{{ member.name }}" 
                                                    class="card-img-top rounded-circle mx-auto mt-3" 
                                                    style="width: 120px; height: 120px; object-fit: cover;">
                                            </div>
                                        {% endif %}
                                        
                                        <div class="card-body">
                                            <h5 class="card-title fw-bold text-dark">{{ member.name }}</h5>
                                            <p class="card-text text-muted mb-3">{{ member.position }}</p>
                                            <p class="card-text small text-start ">{{ member.bio|truncatewords:100 }}</p> 
                                        </div>
                                    </div>
                                    
                                </div> 
                            {% endfor %}
                            
                        </div> 
                        <button class="carousel-control-prev" type="button" data-bs-target="#teamCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#teamCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                    </div>
            </div>
            {% else %}
                <p class="text-center text-muted">Team members will be listed here soon!</p>
            {% endif %}
        </section>

    </div>
    
</div>

{% endblock content %}